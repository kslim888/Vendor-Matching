<html>
<head>
    <title> Kaodim Vendor matching for Job Requests </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--api for w3 css-->
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    
    <!--api for Jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css">
    
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
   
    <!--api form google -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    
    <!-- Alertify library api -->
    <!-- JavaScript -->
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/alertify.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/css/alertify.min.css"/>
    <!-- Default theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/css/themes/default.min.css"/>
    <!-- Semantic UI theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/css/themes/semantic.min.css"/>
    <!-- Bootstrap theme -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.11.2/build/css/themes/bootstrap.min.css"/>

    <!-- Email API -->
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>

    <script type="text/javascript">
        (function(){
            emailjs.init("user_JaXAXmDVqTlLdPyrOxWNv");
        })();
    </script>

    <style>
        input[type=text]{
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }
        
    </style>
</head>
<body>

    <!-- Content -->
    <div class="w3-content" style="max-width:800px;margin-bottom:50px">
        
        <div class="w3-center w3-padding-24">
            <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16" id="header2"> Kaodim Vendor Matching for Job Requests </span>
        </div>
        
        <hr>

        <div class="w3-container">
            
            <div class="w3-card w3-padding w3-margin w3-center"><span> <strong> Please enter your email, select location and date for 
                    cleaning service from Kaodim's vendors </strong> </span> <br>
            </div>
            
            <form id="check_vendor_form" method="POST" name="form">

                <!-- Get user email -->
                <div class="w3-large pad1">
                    <label> Email Address: </label> 
                    <span id="email_address_error" style="color:red;"> <strong> Email address is required </strong> </span>
                    <br>
                    <input id="email_address" type="text" name="email_address" required />
                </div>

                <br>

                 <!-- Select location -->
                <div class="w3-large pad1">
                    <label> Location: </label>
                    <span id="location_error" style="color:red;"> <strong> Location is required </strong> </span>

                    <select style="width:100%;height:40px" name="location" id="location" class="s2" required>
                    <option value="" selected> - Select - </option>
                        <optgroup label="Kuala Lumpur">
                                <option value="Petaling Jaya"> Petaling Jaya </option>
                                <option value="Subang Jaya"> Subang Jaya </option>
                                <option value="Puchong"> Puchong </option>
                                <option value="Mont Kiara"> Mont Kiara </option>
                                <option value="Bukit Jalil"> Bukit Jalil </option>
                                <option value="Kepong"> Kepong </option>
                                <option value="Shah Alam"> Shah Alam </option>
                                <option value="Cheras"> Cheras </option>
                                <option value="Sentul"> Sentul </option>
                                <option value="Setiawangsa"> Setiawangsa </option>
                                <option value="TTDI"> TTDI </option>
                     </select>	
                </div>

                <!-- Date picker -->
                <div class="w3-large pad1">
                    <br>
                    <label> Date: </label> 
                    <span id="date_error" style="color:red"> <strong> Date is not Selected </strong> </span>
                    <br>
                    <input id="date" name="date" type="text" readonly='true' required/>
                </div>
                     
                <!-- Check for vendor button -->
                <div class="w3-container w3-padding w3-center">
                    <button class="w3-button w3-red w3-large" type="button" id="check_vendor"> Check For Vendor </button>          
                </div>
                    
            </form>
        
             <!-- Submit vendor request section. After clicking check for vendor it will appear-->
            <form class="w3-container" method="POST" id="submit_vendor_form">
                
                <span id="vendor_not_select_error" style="color:red; display: none;"> <strong> Vendor is not Selected </strong> </span>

                <div class="w3-card w3-padding w3-margin w3-container" id="vendors_list">

                    <!-- Here will auto populate list of available vendors -->
                
                </div>
                
                <div class="w3-container w3-padding w3-center">
                    <button class="w3-button w3-red w3-large" type="button" id="submit_vendor"> Submit Vendor Request </button>          
                </div>
            </form>  <!-- End Submit vendor request section.-->  
        </div>

    </div> <!--content div close-->

    <!-- Bootstrap Modal (Popup error) -->
    <div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">No vendor available</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                There is no vendor available. Please choose another date
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/5.8.6/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-firestore.js"></script>

    <!-- For database engine, i choose to use firebase firestore -->
    <script type='text/javascript' src='./firestore_conf.js'></script>
    <script type='text/javascript' src='./main.js'></script>

</body>
</html>